<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://wwww.thymeleaf.org/thymeleaf-extras-springsecurity5">
<!--head-->

<head th:replace="~{admin/fragments/head :: head}">
</head>

<body onload="time()" class="app sidebar-mini rtl">

    <!-- Navbar-->
    <header th:replace="~{admin/fragments/navbar :: navbar}">

    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside th:replace="~{admin/fragments/sidebar :: sidebar}">
    </aside>

    <main class="app-content">
        <div class="app-title">
            <ul class="app-breadcrumb breadcrumb">
                <li class="breadcrumb-item">Danh sách thể loại</li>
                <li class="breadcrumb-item"><a href="#">Thêm thể loại</a></li>
            </ul>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="tile">
                    <h3 class="tile-title">Tạo mới thể loại</h3>
                    <div class="tile-body">
                        <form id="myForm" class="row" method="post" action="/admin/categories/add"
                            enctype="multipart/form-data">
                            <div class="form-group col-md-3">
                                <label class="control-label">Tên thể loại</label>
                                <input class="form-control" name="name" type="text">
                                <div th:if="${nameError}">
                                    <div class="errors mt-2">
                                        <span class="text-danger" th:text="${nameError}"></span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <button id="submitBtn" class="btn btn-save" type="button">Lưu lại</button>
                    <a class="btn btn-cancel" href="/admin/categories">Hủy bỏ</a>
                </div>
            </div>
        </div>
    </main>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script>
        const form = document.getElementById("myForm");
        const submitBtn = document.getElementById("submitBtn");

        submitBtn.addEventListener("click", function () {
            form.submit();
        });

        const formCategory = document.getElementById("addCategory");
        const submitAddCategory = document.getElementById("submitAddCategory");

        submitAddCategory.addEventListener("click", function () {
            formCategory.submit();
        })
    </script>
</body>

</html>